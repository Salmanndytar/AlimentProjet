<div class="container my-contener ">
  <div class="card justify-content-center ">
    <div class="card-header text-center bg-header">

      <div class="col">
        <h3> S'inscrire</h3>
      </div>
      <div class="col text-end ">
        <a [routerLink]="['/login']"  class="btn shadow-sm ">&nbsp;Se connecter</a>
      </div>
    </div>
    <div class="card-body ">
      <form [formGroup]="insFormgroup" (ngSubmit)="saveIns()">
           <div class=" accordion " id="accordionRadio">
            <div class="mb-3 bg-warning text-center" *ngIf="errForma">
             <span class="p-3"> Mail incorrecte </span>
          </div>
             <div class="row m-3  text-center bg-warning" *ngIf="errpwdConf" >
               <span> Mot de passe non conforme</span>
             </div>
            <div class="row m-3  text-center bg-warning" *ngIf="codeErreu" >
              <span> Désolé veuillez reessayer plus tard !!!</span>
            </div>
          <div style="height: 100px" *ngIf="loading" >
            <app-loading></app-loading>
          </div>

          <div  *ngIf="level[0]">
            <div class="mb-3" >
<!--                    <span class="text-danger"-->
<!--                          *ngIf="insFormgroup.controls['nom'].touched-->
<!--                        && insFormgroup.controls[' nom'].errors-->
<!--                         && insFormgroup.controls[' nom'].errors!['required']">-->
<!--             Nom obligatoire-->
<!--            </span>-->
            <input type="text" class="form-control" formControlName="nom" placeholder="Nom" (keyup)="contrPanel1()">
          </div>
          <div class="mb-3">
            <input type="text" class="form-control" formControlName="prenom" placeholder="Prenom" (keyup)="contrPanel1()">
          </div>
          <div class="mb-3">
            <input type="text" class="form-control"formControlName="tel" placeholder="Téléphone" (keyup)="contrPanel1()">
          </div>
          <div class="mb-3">
<!--            <span class="text-danger"-->
<!--                  *ngIf="insFormgroup.controls['mail'].touched-->
<!--             && insFormgroup.controls['mail'].errors-->
<!--              && insFormgroup.controls['mail'].errors!['email']">-->
<!--              Email incorrect-->
<!--            </span>-->
            <input type="email" class="form-control" formControlName="mail" placeholder="Email" aria-describedby="emailHelp" (keyup)="contrPanel1()">
          </div>
          <div class="mb-3">
            <input type="password" class="form-control" formControlName="motDePasse" placeholder="Password" (keyup)="contrPanel1()">
          </div>
          <div class="mb-3">
            <input type="password" class="form-control"formControlName="motdepasse2" placeholder="Confirmer password"  (keyup)="contrPanel1()" >
          </div>
            <div class="mb-3 d-flex justify-content-between "   >
              <button type="button" class="btn btn-primary "   [disabled]="controPan1"
                      (click)="next(1)"    >
                <i class="bi bi-check2-all"></i>&nbsp;&nbsp;ok
              </button>
            </div>
       </div>

          <div class=" border-non accordion-item  p-1 " *ngIf="level[1]">
<!--            Ouvrir uniquement 3eme partie sans fermer la 2eme-->
            <button class="accordion-button shadow-sm p-2 mb-3 bg-white rounded text-dark "
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseRadio"
                    aria-expanded="true" aria-controls="collapseRadio" >
              <h6><i class="fas fa-hand-pointer"></i>&nbsp;&nbsp;S'inscrir entant que ?</h6>
            </button>
            <div id="collapseRadio" class="accordion-collapse collapse " data-bs-parent="#accordionRadio"  >
              <div class="accordion-body border-solide"  >
                <!-- button radio-->
                <div class="form-check form-check-inline" >
                  <input class="form-check-input"  type="radio" formControlName="role" name="role" id="inlineRadio1" value="diabetique" (click)="controlPenel2()">
                  <label class="form-check-label" for="inlineRadio1">Diabetique</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio"formControlName="role" name="role" id="inlineRadio2" value="medecin" (click)="controlPenel2()">
                  <label class="form-check-label" for="inlineRadio2"  >Medecin</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio"formControlName="role" name="role" id="inlineRadio3" value="autre" (click)="controlPenel2()">
                  <label class="form-check-label" for="inlineRadio3" >Autre</label>
                </div>
              </div>
            </div>
            <div class="mb-3 d-flex justify-content-between "   >
              <button type="button" class="btn btn-primary " [disabled]="btnRole"
                      (click)="next(2)"    >
                <i class="bi bi-check2-all"></i>&nbsp;&nbsp;ok
              </button>
            </div>
          </div>
          <div *ngIf="level[2]">
            <div class="row  m-3" >
              <input type="number" class="form-control" formControlName="taille" placeholder="Taille en M(metre)">
            </div>
            <div class="row m-3"   >
              <input type="number" class="form-control" formControlName="poids" placeholder="Poids en Kg">
            </div>
            <div class="form-check form-check-inline m-3"   >
              <input class="form-check-input" type="radio" formControlName="sexe" name="sexe" id="inlineRadio4" value="F"  >
              <label class="form-check-label" for="inlineRadio4">F</label>
            </div>
            <div class="form-check form-check-inline m-3"  >
              <input class="form-check-input " type="radio"formControlName="sexe" name="sexe" id="inlineRadio5" value="M" >
              <label class="form-check-label" for="inlineRadio5">M</label>
            </div>
            <div class="mb-3 d-flex justify-content-between" *ngIf="level[2]"  >
              <button  type="button" class="btn btn-primary form-control"
                       data-bs-toggle="collapse"
                       data-bs-target="#collapseCode"
                       aria-expanded="true" aria-controls="collapseCode"
                       (click)="saveIns()"  >
                <i class="bi bi-check2-all"></i>&nbsp;Confirmer
              </button>
            </div>
        </div>


          <div class="mb-3 d-flex justify-content-between" *ngIf="level[3]"  >
            <!-- fermer toute les partie et ouvrire par accordion une derniere partie-->
            <button  type="button" class="btn btn-primary form-control"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseCode"
                    aria-expanded="true" aria-controls="collapseCode"
                 (click)="saveIns()"  >
              <i class="bi bi-check2-all"></i>&nbsp;Valider
            </button>
          </div>
        </div>
<!--mettre fin accordion-->
      </form>
    </div>
  </div>
</div>

